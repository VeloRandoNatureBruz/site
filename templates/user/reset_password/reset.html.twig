{% extends 'base.html.twig' %}

{% block title %}changement de mdp | {{ parent() }}{% endblock %}
{# page de changement de mot de passe #}

{% block body %}
    {% if is_granted("ROLE_USER") %}{

    {# banniere et titre #}
    <div class="container-fluid">
        <img src="{{ asset ('/content/user ban pages user.jpg') }}" class="img-fluid" width="100%" alt="modification mot de passe">
    </div>

    <div class="d-flex justify-content-center m-4">

        <h1>Changer votre mot de passe</h1>
    </div>

    {# on utilise le chantepasswordformtype #}
    <div class=" d-flex justify-content-center mb-5">
        {{ form_start(resetForm) }}
        {{ form_row(resetForm.plainPassword) }}

        {# on empeche qu'un utilisateur change un autre mot de passe que le sien via l'url #}
        {% if app.user == utilisateur %}
            <button class="btn btn-warning">RÃ©initialiser mot de passe</button>

            <a href="{{ path('user_show', { 'id': app.user.id}) }}" class="btn btn-outline-primary">retour au profil</a>
        {% else %}
            <div class="btn btn-danger"> vous n'avez pas les droits pour modifier le mot de passe</div>
        {% endif %}
        {{ form_end(resetForm) }}
    </div>
    }
    {% else %}
    {% endif %}
{% endblock %}
